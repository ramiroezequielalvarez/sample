https://github.com/daredev127/webeng-admin/tree/main

    public async Task ResetDatabase()
    {
        await using var npsqlConnection = new NpgsqlConnection(_postgresDatabaseOptions.ConnectionString);
        await npsqlConnection.OpenAsync();
        var respawner = await Respawner.CreateAsync(npsqlConnection,
            new RespawnerOptions
            {
                DbAdapter = DbAdapter.Postgres,
                SchemasToInclude = new[] { "public" },
                TablesToIgnore = new Table[] { "__EFMigrationsHistory" }
            });
        await respawner.ResetAsync(npsqlConnection);
    }
